<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Bindings | Muban</title><meta name="description" content="Writing components for server-rendered HTML">
    <link rel="modulepreload" href="/muban/assets/app.7a437beb.js"><link rel="modulepreload" href="/muban/assets/bindings.html.5f2b19a0.js"><link rel="modulepreload" href="/muban/assets/bindings.html.9c3dd419.js"><link rel="modulepreload" href="/muban/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/muban/assets/style.f8dfe95e.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/muban/" class=""><!----><span class="site-name">Muban</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/muban/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/guide/" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/api/" class="router-link-active" aria-label="Api"><!--[--><!--]--> Api <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/changelog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/research/" class="" aria-label="Research"><!--[--><!--]--> Research <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/mubanjs/muban" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/muban/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/guide/" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/api/" class="router-link-active" aria-label="Api"><!--[--><!--]--> Api <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/changelog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/research/" class="" aria-label="Research"><!--[--><!--]--> Research <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/mubanjs/muban" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Bindings"><!--[--><!--]--> Bindings <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#binding-factories" class="router-link-active router-link-exact-active sidebar-item" aria-label="Binding Factories"><!--[--><!--]--> Binding Factories <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#bind" class="router-link-active router-link-exact-active sidebar-item" aria-label="bind"><!--[--><!--]--> bind <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#bindmap" class="router-link-active router-link-exact-active sidebar-item" aria-label="bindMap"><!--[--><!--]--> bindMap <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#bindtemplate" class="router-link-active router-link-exact-active sidebar-item" aria-label="bindTemplate"><!--[--><!--]--> bindTemplate <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/muban/api/bindings.html#dom-bindings" class="router-link-active router-link-exact-active sidebar-item" aria-label="DOM bindings"><!--[--><!--]--> DOM bindings <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#text" class="router-link-active router-link-exact-active sidebar-item" aria-label="text"><!--[--><!--]--> text <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#html" class="router-link-active router-link-exact-active sidebar-item" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#css" class="router-link-active router-link-exact-active sidebar-item" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#style" class="router-link-active router-link-exact-active sidebar-item" aria-label="style"><!--[--><!--]--> style <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#attribute" class="router-link-active router-link-exact-active sidebar-item" aria-label="attribute"><!--[--><!--]--> attribute <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#click" class="router-link-active router-link-exact-active sidebar-item" aria-label="click"><!--[--><!--]--> click <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/muban/api/bindings.html#form-bindings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Form bindings"><!--[--><!--]--> Form bindings <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#initialvaluesource" class="router-link-active router-link-exact-active sidebar-item" aria-label="initialValueSource"><!--[--><!--]--> initialValueSource <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#value" class="router-link-active router-link-exact-active sidebar-item" aria-label="value"><!--[--><!--]--> value <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#textinput" class="router-link-active router-link-exact-active sidebar-item" aria-label="textInput"><!--[--><!--]--> textInput <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#checked" class="router-link-active router-link-exact-active sidebar-item" aria-label="checked"><!--[--><!--]--> checked <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/muban/api/bindings.html#registerdombinding" class="router-link-active router-link-exact-active sidebar-item" aria-label="registerDomBinding"><!--[--><!--]--> registerDomBinding <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#component-bindings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Component bindings"><!--[--><!--]--> Component bindings <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/muban/api/app.html" class="sidebar-item sidebar-heading" aria-label="App"><!--[--><!--]--> App <!--[--><!--]--></a><!----></li><li><a href="/muban/api/component.html" class="sidebar-item sidebar-heading" aria-label="Component"><!--[--><!--]--> Component <!--[--><!--]--></a><!----></li><li><a href="/muban/api/props.html" class="sidebar-item sidebar-heading" aria-label="Props"><!--[--><!--]--> Props <!--[--><!--]--></a><!----></li><li><a href="/muban/api/refs.html" class="sidebar-item sidebar-heading" aria-label="Refs"><!--[--><!--]--> Refs <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Bindings"><!--[--><!--]--> Bindings <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#binding-factories" class="router-link-active router-link-exact-active sidebar-item" aria-label="Binding Factories"><!--[--><!--]--> Binding Factories <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#bind" class="router-link-active router-link-exact-active sidebar-item" aria-label="bind"><!--[--><!--]--> bind <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#bindmap" class="router-link-active router-link-exact-active sidebar-item" aria-label="bindMap"><!--[--><!--]--> bindMap <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#bindtemplate" class="router-link-active router-link-exact-active sidebar-item" aria-label="bindTemplate"><!--[--><!--]--> bindTemplate <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/muban/api/bindings.html#dom-bindings" class="router-link-active router-link-exact-active sidebar-item" aria-label="DOM bindings"><!--[--><!--]--> DOM bindings <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#text" class="router-link-active router-link-exact-active sidebar-item" aria-label="text"><!--[--><!--]--> text <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#html" class="router-link-active router-link-exact-active sidebar-item" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#css" class="router-link-active router-link-exact-active sidebar-item" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#style" class="router-link-active router-link-exact-active sidebar-item" aria-label="style"><!--[--><!--]--> style <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#attribute" class="router-link-active router-link-exact-active sidebar-item" aria-label="attribute"><!--[--><!--]--> attribute <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#click" class="router-link-active router-link-exact-active sidebar-item" aria-label="click"><!--[--><!--]--> click <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/muban/api/bindings.html#form-bindings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Form bindings"><!--[--><!--]--> Form bindings <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/muban/api/bindings.html#initialvaluesource" class="router-link-active router-link-exact-active sidebar-item" aria-label="initialValueSource"><!--[--><!--]--> initialValueSource <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#value" class="router-link-active router-link-exact-active sidebar-item" aria-label="value"><!--[--><!--]--> value <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#textinput" class="router-link-active router-link-exact-active sidebar-item" aria-label="textInput"><!--[--><!--]--> textInput <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#checked" class="router-link-active router-link-exact-active sidebar-item" aria-label="checked"><!--[--><!--]--> checked <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/muban/api/bindings.html#registerdombinding" class="router-link-active router-link-exact-active sidebar-item" aria-label="registerDomBinding"><!--[--><!--]--> registerDomBinding <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/api/bindings.html#component-bindings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Component bindings"><!--[--><!--]--> Component bindings <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/muban/api/hooks.html" class="sidebar-item sidebar-heading" aria-label="Hooks"><!--[--><!--]--> Hooks <!--[--><!--]--></a><!----></li><li><a href="/muban/api/provide-inject.html" class="sidebar-item sidebar-heading" aria-label="Provide / Inject"><!--[--><!--]--> Provide / Inject <!--[--><!--]--></a><!----></li><li><a href="/muban/api/mhtml.html" class="sidebar-item sidebar-heading" aria-label="mhtml templates"><!--[--><!--]--> mhtml templates <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="bindings" tabindex="-1"><a class="header-anchor" href="#bindings" aria-hidden="true">#</a> Bindings</h1><h2 id="binding-factories" tabindex="-1"><a class="header-anchor" href="#binding-factories" aria-hidden="true">#</a> Binding Factories</h2><p>Binding factories are helper functions to create the binding definitions that must be returned from the component&#39;s <code>setup</code> function. These definitions are later used to apply these bindings when the component is mounted, or when any of the reactive data changes.</p><p>While it is technically possible to manually create those binding definitions yourself, these binding factories make sure the correct information is passed, and is fully typed based on the ref you provide as the first parameter.</p><h3 id="bind" tabindex="-1"><a class="header-anchor" href="#bind" aria-hidden="true">#</a> bind</h3><p><code>bind</code> lets you update any selected ref (element or component, single or collection) to any data, making sure it updates automatically whenever the data changes.</p><p>If you bind to a collection, each item in the collection will receive the same bindings.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> AnyRef<span class="token punctuation">,</span>
  props<span class="token operator">:</span> BindProps <span class="token operator">|</span> ComponentSetPropsParam<span class="token operator">&lt;</span>ComponentApi<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Binding<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>If you want more control over the bindings for each individual item in a collection, you can use the <a href="#bindmap"><code>bindMap</code></a> function.</p><p>Bindings to elements use <a href="#dom-bindings">DOM bindings</a>. Bindings to components use the <a href="#component-bindings">Component bindings</a> to update its props.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Make sure your bindings stay reactive by passing a reactive <code>ref</code>, or by wrapping it in a <code>computed</code> when accessing the direct values or any <code>reactive</code> object.</p></div><p><strong>Example</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>

  <span class="token comment">// bind to a DOM element</span>
  <span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>button<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;clicked&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isLoading<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">&#39;loading...&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// bind to a component, setting props or passing callbacks</span>
  <span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>filter<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// selectedIndex is the name of the component prop, but also a reactive `ref`</span>
    selectedIndex<span class="token punctuation">,</span>
    <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setNewValue</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="bindmap" tabindex="-1"><a class="header-anchor" href="#bindmap" aria-hidden="true">#</a> bindMap</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">bindMap</span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> CollectionRef <span class="token operator">|</span> ComponentsRef<span class="token punctuation">,</span>
  <span class="token function-variable function">getProps</span><span class="token operator">:</span> <span class="token punctuation">(</span>ref<span class="token operator">:</span> ElementRef <span class="token operator">|</span> ComponentRef<span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    BindProps <span class="token operator">|</span> ComponentSetPropsParam<span class="token operator">&lt;</span>ComponentApi<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Binding<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Example</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>

  <span class="token comment">// bind to multiple dom elements</span>
  <span class="token operator">...</span><span class="token function">bindMap</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// use the `index` in each individual binding</span>
    css<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> active<span class="token operator">:</span> index <span class="token operator">===</span> selectedIndex<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>selectedIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// bind to multiple components, setting props or passing callbacks</span>
  <span class="token operator">...</span><span class="token function">bindMap</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>isExpanded<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      activeIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> isExpanded <span class="token operator">?</span> index <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token comment">// you could use `ref.component?.props` to access the individual component&#39;s props</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    expanded<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> activeIndex<span class="token punctuation">.</span>value <span class="token operator">===</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="bindtemplate" tabindex="-1"><a class="header-anchor" href="#bindtemplate" aria-hidden="true">#</a> bindTemplate</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">bindTemplate</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span>
  <span class="token function-variable function">onUpdate</span><span class="token operator">:</span> <span class="token punctuation">(</span>onlyWatch<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ComponentTemplateResult <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    forceImmediateRender<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
    extract<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      config<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
      <span class="token function-variable function">onData</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Binding<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>Example</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
  
  <span class="token comment">// set up a template binding</span>
  <span class="token function">bindTemplate</span><span class="token punctuation">(</span>
    <span class="token comment">// control the contents of this container, clearing it on each re-render</span>
    refs<span class="token punctuation">.</span>productsContainer<span class="token punctuation">,</span>
    <span class="token comment">// render this template each time when the used observables update</span>
    <span class="token punctuation">(</span>onlyWatch<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> filteredProducts<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token function">renderItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// optionally extract any exiting data from the HTML that was rendered on the server</span>
      extract<span class="token operator">:</span> <span class="token punctuation">{</span> config<span class="token operator">:</span> extractConfig<span class="token punctuation">,</span> <span class="token function-variable function">onData</span><span class="token operator">:</span> <span class="token punctuation">(</span>products<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> productData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>products<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// by default muban will check if the container is empty from the server, and ignore updating</span>
      <span class="token comment">// it initially when it&#39;s not. Set this to true if you want to update the initial HTML anyway.</span>
      forceImmediateRender<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">html-extract-data</p><p>The data extraction makes use of the <a href="https://www.npmjs.com/package/html-extract-data" target="_blank" rel="noopener noreferrer">html-extract-data<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> npm module, check their documentation to all the possibilities and configuration.</p></div><div class="custom-container tip"><p class="custom-container-title">onlyWatch</p><p>The <code>onlyWatch</code> boolean passed to the onUpdate function indicates that the initial execution of this function will only be used to watch the observables. The result is not used to update the HTML. This allows you to omit heavy calculations or calling template functions whenever this is needed for optimization.</p></div><h2 id="dom-bindings" tabindex="-1"><a class="header-anchor" href="#dom-bindings" aria-hidden="true">#</a> DOM bindings</h2><h3 id="text" tabindex="-1"><a class="header-anchor" href="#text" aria-hidden="true">#</a> text</h3><p>The <code>text</code> binding sets the <code>textContent</code> property of the associated DOM element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>text<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;John&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;Doe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pass a ref</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> firstName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pas a computed (which is a ref)</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> fullName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or inline</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="html" tabindex="-1"><a class="header-anchor" href="#html" aria-hidden="true">#</a> html</h3><p>The <code>html</code> binding sets the <code>innerHTML</code> property of the associated DOM element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>htlm<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;strong&gt;John&lt;/strong&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;em&gt;Doe&lt;/em&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pass a ref</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span> <span class="token punctuation">{</span> html<span class="token operator">:</span> firstName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// pas a computed (which is a ref)</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> html<span class="token operator">:</span> fullName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or inline</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> html<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="css" tabindex="-1"><a class="header-anchor" href="#css" aria-hidden="true">#</a> css</h3><p>The <code>css</code> binding adds or removes one or more CSS classes to the associated DOM element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>css<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">|</span> Ref<span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span> <span class="token operator">|</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> ballance <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isPositive <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ballance<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isNegative <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ballance<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets either the `is-negative` or `is-positive` css class based on the ballance</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> css<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ballance<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&#39;is-negative&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;is-positive&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets the classes if the respective value is truthy</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> css<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;is-positive&#39;</span><span class="token operator">:</span> isPositive<span class="token punctuation">,</span>
  <span class="token string-property property">&#39;is-negative&#39;</span><span class="token operator">:</span> isNegative<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets multiple classes at the same time when `isActive` ref value is truthy</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>fullName<span class="token punctuation">,</span> <span class="token punctuation">{</span> css<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;foo bar&#39;</span><span class="token operator">:</span> isActive <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="style" tabindex="-1"><a class="header-anchor" href="#style" aria-hidden="true">#</a> style</h3><p>The <code>style</code> binding sets the style properties of the associated DOM element, similarly to inline styles.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>style<span class="token operator">:</span> Ref<span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span> <span class="token operator">|</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> isActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets the `display` style on either `block` or `none`</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> style<span class="token operator">:</span> <span class="token punctuation">{</span>
  display<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isActive<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">&#39;block&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="attribute" tabindex="-1"><a class="header-anchor" href="#attribute" aria-hidden="true">#</a> attribute</h3><p>The attribute binding sets the attributes of the associated DOM element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>attr<span class="token operator">:</span> Ref<span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> Ref<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> isActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sets the `disabled` style on either `true` or `false`</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> attr<span class="token operator">:</span> <span class="token punctuation">{</span>
  disabled<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isActive<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="click" tabindex="-1"><a class="header-anchor" href="#click" aria-hidden="true">#</a> click</h3><p>The <code>click</code> binding calls the passed callback whenever the user clicks on the associated DOM element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>click<span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> HTMLElementEventMap<span class="token punctuation">[</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// executes the callback whenever clicked</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// if your function expects the `event` as the first parameter, or has no parameters, you can</span>
<span class="token comment">// just pass it directly</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>item<span class="token punctuation">,</span> <span class="token punctuation">{</span> click<span class="token operator">:</span> toggleActive <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="form-bindings" tabindex="-1"><a class="header-anchor" href="#form-bindings" aria-hidden="true">#</a> Form bindings</h2><p>These bindings are two-way, and apply to form elements where users can modify the HTML  input text or change a selection. These changes are kept in sync with the passed binding value.</p><h3 id="initialvaluesource" tabindex="-1"><a class="header-anchor" href="#initialvaluesource" aria-hidden="true">#</a> initialValueSource</h3><p>This is a special &quot;binding modifier&quot; that is available for all the two-way bindings</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>initialValueSource<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;html&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;binding&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Muban always treats the HTML as it&#39;s initial source of truth. However, when dealing with two-way bindings, we also have to take the initial value of the passed ref into account. When muban detects that the initial HTML and the initial binding value are not in sync, it will log a clear warning to the console. It also overrides the binding value to what was set in the HTML.</p><p>When the initial values are not in sync, and a warning is logged, you have two options:</p><ol><li>Either to change your binding value to be initially <code>undefined</code>, or match up with the expected HTML value (only if you know for sure what it will be).</li><li>Explicitly set what source it should use.</li></ol><p>The latter can be done by passing <code>initialValueSource: &#39;html&#39;</code> or <code>initialValueSource: &#39;binding&#39;</code> as an additional binding value.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>inputElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> inputValue<span class="token punctuation">,</span> initialValueSource<span class="token operator">:</span> <span class="token string">&#39;binding&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="value" tabindex="-1"><a class="header-anchor" href="#value" aria-hidden="true">#</a> value</h3><p>The <code>value</code> binding is a two-way binding, connecting the state with the associated input elements. It works with <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code> and <code>&lt;select&gt;</code> elements, except for <strong>checkboxes</strong> and <strong>radio buttons</strong>; they have their own <code>checked</code> binding.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>value<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
allowUnset<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>It will sync the value of the passed <code>ref</code> with the value of the targeted element.</p><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>
<span class="token keyword">const</span> inputValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> selectValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bind to a regular `&lt;input&gt;` element</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>inputElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> inputValue <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bind to a `&lt;textarea&gt;` element</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>textareaElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> textValue <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bind to a `&lt;select&gt;` element</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>selectElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> selectValue <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="allowunset" tabindex="-1"><a class="header-anchor" href="#allowunset" aria-hidden="true">#</a> allowUnset</h4><p>When binding to a <code>&lt;select&gt;</code> element, if the binding value is changed to a value that is not supported by any of the options in the select, it will not do the update.</p><p>However, when passing <code>allowUnset: true</code> as an additional binding value, it will set the <code>&lt;select&gt;</code> element to its unselected value, and keep the binding value to what it was.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>selectElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> selectValue<span class="token punctuation">,</span> allowUnset<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="textinput" tabindex="-1"><a class="header-anchor" href="#textinput" aria-hidden="true">#</a> textInput</h3><p>The <code>textInput</code> binding is a two-way binding, connecting the state with the associated input elements. It works with <code>&lt;input type=&quot;text&quot;&gt;</code> and <code>&lt;textarea&gt;</code>, and can be used instead of the <code>value</code> binding when immediate updates to the binding value should be done when the user is inputting text.</p><p>The value binding only updates when the <code>changed</code> event is fired, normally when leaving focus. The <code>textInput</code> binding also listens to the <code>input</code> event, which fires directly after any internal change to the input element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>textInput<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
initialValueSource<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;html&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;binding&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>It will sync the value of the passed <code>ref</code> with the value of the targeted element.</p><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>
<span class="token keyword">const</span> inputValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bind to a regular `&lt;input&gt;` element</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>inputElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> textInput<span class="token operator">:</span> inputValue <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bind to a `&lt;textarea&gt;` element</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>textareaElement<span class="token punctuation">,</span> <span class="token punctuation">{</span> textInput<span class="token operator">:</span> textValue <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="checked" tabindex="-1"><a class="header-anchor" href="#checked" aria-hidden="true">#</a> checked</h3><p>The <code>checked</code> binding is a two-way binding, connecting the state with the associated checkbox or radio button DOM element.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>checked<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If passed a single <code>boolean</code> value, it will sync the passed <code>ref</code> and the <code>checked </code> state of the element, updating one if the other changes.</p><p>If passed an <code>Array</code>, it will add or remove the item in that array that corresponds with the <code>value</code> attribute of the DOM element. If the checkbox is checked, it will add the item with that value, and when unchecked, it will remove it from the array again. Or when the array updates, it will check or uncheck the DOM element depending on the presence in the array.</p><p><strong>Examples</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>
<span class="token keyword">const</span> isSelected <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> selectedItems <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// binds the `isSelected` with the `accept` checkbox, and updates the other if one of them changes</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>accept<span class="token punctuation">,</span> <span class="token punctuation">{</span> checked<span class="token operator">:</span> isSelected <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// initially selects the checkbox that has `foo` as value, and will update the array whenever</span>
<span class="token comment">// toggling any of the checkboxes in the collection. Or updating the checkboxes if the array changes.</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>checkboxes<span class="token punctuation">,</span> <span class="token punctuation">{</span> checked<span class="token operator">:</span> selectedItems <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="registerdombinding" tabindex="-1"><a class="header-anchor" href="#registerdombinding" aria-hidden="true">#</a> registerDomBinding</h2><p><code>registerDomBinding</code> and the <code>DomBindings</code> allow you to add your own DOM bindings to Muban without having to dig into the Muban code itself.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">registerDomBinding</span><span class="token punctuation">(</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>If you have created your binding function - which always receives a <code>target</code> (the DOM element your binding is added to) and a <code>value</code> (that you pass in your component) - you just simple register it through <code>registerDomBinding</code> with the proper binding name, and update the <code>DomBindings</code> interface to add it to the types.</p><p>After that, you can use this new binding in any component you write in your project.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// your binding function</span>
<span class="token keyword">const</span> <span class="token function-variable function">debugBinding</span> <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">|</span> Ref<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// return the dispose function returned by watchEffect so your binding gets cleaned up properly</span>
  <span class="token keyword">return</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;[debug]&#39;</span><span class="token punctuation">,</span> <span class="token function">unref</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// register it so you can use it in your `bind` functions</span>
<span class="token function">registerDomBinding</span><span class="token punctuation">(</span><span class="token string">&#39;debug&#39;</span><span class="token punctuation">,</span> debugBinding<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// update the DomBindings interface so it&#39;s available in your `bind` functions</span>
<span class="token keyword">declare</span> global <span class="token punctuation">{</span>
  <span class="token comment">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
  <span class="token keyword">interface</span> <span class="token class-name">DomBindings</span> <span class="token punctuation">{</span>
    debug<span class="token operator">:</span> <span class="token keyword">typeof</span> debugBinding<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> refs <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> isActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
      <span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>button<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isActive<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isActive<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
        <span class="token comment">// this will log the value each time it changes</span>
        debug<span class="token operator">:</span> isActive<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="component-bindings" tabindex="-1"><a class="header-anchor" href="#component-bindings" aria-hidden="true">#</a> Component bindings</h2><p>Component bindings will set the props of the targeted component(s) whenever the related state changes. The allowed props are typed based on the component attached to the passed ref.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ComponentSetPropsParam<span class="token operator">&lt;</span>ComponentApi<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>This is useful for two main use cases:</p><ol><li>Update child component props whenever state in the parent changes. This will let the parent component control the child component.</li><li>Passing callback functions to listen to changes in the child component. These mostly apply to any user interaction that can happen in child component that deals with the intricate logic there, and updates the parent component with just the information it needs when it&#39;s needed.</li></ol><p><strong>Example</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// the `filter` component has an `onChange` prop that gets executed when a filter changes</span>
<span class="token comment">// passing the filter id and filter value</span>
<span class="token function">bind</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>filter<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>filter<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeFilter <span class="token operator">=</span> activeFilters<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span>id <span class="token operator">===</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>activeFilter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      activeFilter<span class="token punctuation">.</span>active <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// the `items` components have an `onChange` prop that gets called when any of the items change,</span>
<span class="token comment">// and an `expanded` prop to dictate of the slide should be expanded</span>
<span class="token comment">// they use the `index` prameter in the &quot;loop&quot; to use in each prop binding</span>
<span class="token operator">...</span><span class="token function">bindMap</span><span class="token punctuation">(</span>refs<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>isExpanded<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    activeIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> isExpanded <span class="token operator">?</span> index <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  expanded<span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> activeIndex<span class="token punctuation">.</span>value <span class="token operator">===</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">Callback bindings</p><p>Callback bindings are usually <strong>not reactive</strong>, since you only have to specify them once, and child components can just call them whenever needed.</p></div><div class="custom-container tip"><p class="custom-container-title">Reactive prop bindings</p><p>Other prop bindings should be <strong>reactive</strong>, since you want to update these props whenever something changes in your parent component. In turn, the child component can use <code>watch</code> or <code>watchEffect</code> to listen to changes on any of these props, and in turn update their internal state or bindings.</p></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/mubanjs/muban/edit/main/docs/api/bindings.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: thanarie@gmail.com">Arjan van Wijk</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: lars@mediamonks.com">Lars van Braam</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/muban/api/app.html" class="" aria-label="App"><!--[--><!--]--> App <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/muban/assets/app.7a437beb.js" defer></script>
  </body>
</html>
