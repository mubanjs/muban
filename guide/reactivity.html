<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Reactivity | Muban</title><meta name="description" content="Writing components for server-rendered HTML">
    <link rel="modulepreload" href="/muban/assets/app.7a437beb.js"><link rel="modulepreload" href="/muban/assets/reactivity.html.9c9efb35.js"><link rel="modulepreload" href="/muban/assets/reactivity.html.ba0e0c6c.js"><link rel="modulepreload" href="/muban/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/muban/assets/style.f8dfe95e.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/muban/" class=""><!----><span class="site-name">Muban</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/muban/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/guide/" class="router-link-active" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/api/" class="" aria-label="Api"><!--[--><!--]--> Api <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/changelog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/research/" class="" aria-label="Research"><!--[--><!--]--> Research <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/mubanjs/muban" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/muban/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/guide/" class="router-link-active" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/api/" class="" aria-label="Api"><!--[--><!--]--> Api <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/changelog/" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/muban/research/" class="" aria-label="Research"><!--[--><!--]--> Research <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/mubanjs/muban" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a aria-current="page" href="/muban/guide/reactivity.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Reactivity"><!--[--><!--]--> Reactivity <!--[--><!--]--></a><!----></li><li><a href="/muban/guide/app.html" class="sidebar-item sidebar-heading" aria-label="App"><!--[--><!--]--> App <!--[--><!--]--></a><!----></li><li><a href="/muban/guide/component.html" class="sidebar-item sidebar-heading" aria-label="Component setup"><!--[--><!--]--> Component setup <!--[--><!--]--></a><!----></li><li><a href="/muban/guide/props.html" class="sidebar-item sidebar-heading" aria-label="Props"><!--[--><!--]--> Props <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/muban/guide/reactivity.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Reactivity"><!--[--><!--]--> Reactivity <!--[--><!--]--></a><!----></li><li><a href="/muban/guide/bindings.html" class="sidebar-item sidebar-heading" aria-label="Bindings"><!--[--><!--]--> Bindings <!--[--><!--]--></a><!----></li><li><a href="/muban/guide/template.html" class="sidebar-item sidebar-heading" aria-label="Template"><!--[--><!--]--> Template <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="reactivity" tabindex="-1"><a class="header-anchor" href="#reactivity" aria-hidden="true">#</a> Reactivity</h1><p>Instead of updating the DOM by hand after manually adding event listeners to manually queried elements, Muban makes used of the <a href="">@vue/reactivity</a> package to - with the help of some additional utils and binding setup - create a single data flow from user input to DOM mutations, that take the component state as the focus.</p><p>Good articles to read are:</p><ul><li><a href="https://v3.vuejs.org/guide/composition-api-introduction.html" target="_blank" rel="noopener noreferrer">https://v3.vuejs.org/guide/composition-api-introduction.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://composition-api.vuejs.org/api.html" target="_blank" rel="noopener noreferrer">https://composition-api.vuejs.org/api.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>It would also help to point out similarities and differences in how reactivity is used between Vue and Muban, since other parts of the component setup are a bit different.</p><h4 id="similarities" tabindex="-1"><a class="header-anchor" href="#similarities" aria-hidden="true">#</a> Similarities</h4><ul><li><p>Both Vue and Muban use a <code>setup</code> function to manage component state.</p></li><li><p>Component state is managed through <code>ref</code>, <code>reactive</code> and <code>computed</code>.</p></li><li><p>with the help of <code>watch</code> and <code>watchEffect</code> (from the <code>@vue/runtime-core</code> package) you can react to changes in the state, and trigger side-effects.</p></li><li><p>Both have lifecycle &quot;hooks&quot; (e.g. <code>onMounted</code>) that can be used in the <code>setup</code> function.</p></li><li><p>&quot;hooks&quot; or &quot;compositions&quot; are separate functions with reusable code that can be invoked in the <code>setup</code> function or other &quot;hooks&quot;, and can make use of both the reactive state and lifecycle hooks.</p></li><li><p>Incoming props are &quot;reactive&quot;, so they can be used in bindings or be watched, resulting in targeted DOM updates only to those affected elements.</p></li><li><p>State is used to define how the DOM should be displayed (although the methods are different).</p></li><li><p>Passing down reactive data between hooks or templates/bindings has the same caveats with destructuring and wrapping things in refs.</p></li></ul><h4 id="differences" tabindex="-1"><a class="header-anchor" href="#differences" aria-hidden="true">#</a> Differences</h4><ul><li><p><strong>Vue</strong> creates all elements in the template/JSX, while <strong>Muban</strong> only changes certain elements with bindings.</p></li><li><p>In <strong>Vue</strong> and <strong>React</strong>, because they render everything, the data/state flows from top to bottom. Your props always come from the parent.</p><p>In <strong>Muban</strong> the rendered HTML is your initial source of truth. Similar-ish to an SSR setup, the components need to &quot;re-hydrate&quot; their initial state based on the rendered HTML. This initial state is placed on the elements itself, being passed to / queried from (child) components directly. Which means that most initial data flows bottom-up from child to parent components.</p></li><li><p>In <strong>Vue</strong> and <strong>React</strong>, a <code>ref</code> is a boxed primitive you can assign directly to HTML tags with the <code>ref=</code> attribute.</p><p>In <strong>Muban</strong> you also have the <code>data-ref=</code> attribute, and have the same <code>ref</code> in your state, but they are not linked up. So the concept is the same, but the technical solution is slightly different. In Muban you define your refs in the component definition (that will query your <code>data-ref</code> elements), and they become &quot;ref items&quot; that can be used in bindings.</p></li></ul><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/mubanjs/muban/edit/main/docs/guide/reactivity.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: thanarie@gmail.com">Arjan van Wijk</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/muban/guide/app.html" class="" aria-label="App"><!--[--><!--]--> App <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/muban/assets/app.7a437beb.js" defer></script>
  </body>
</html>
